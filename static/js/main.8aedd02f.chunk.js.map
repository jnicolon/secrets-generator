{"version":3,"sources":["imgs/logo/logo.jpg","redux/actions/index.js","redux/actions/userActions.js","components/Navbar.js","pages/AddSecret.js","components/Postcard.js","components/PostcardList.js","redux/actions/secretsActions.js","pages/UserSecrets.js","pages/Home.js","pages/CreateUser.js","components/Footer.js","components/LogIn.js","App.js","reportWebVitals.js","redux/reducers/usersReducer.js","redux/reducers/secretsReducers.js","redux/reducers/rootReducer.js","redux/store.js","index.js"],"names":["SET_CURRENT_USER","GET_SECRETS","SET_SIGN_IN_MODAL","SIGN_IN_USER","setCurrentUser","userName","isLoggedIn","dispatch","type","actions","payload","setSignInModal","status","Navbar","location","useLocation","useState","userModal","setUserModal","useSelector","users","currentUser","useDispatch","className","to","src","logo","alt","pathname","onClick","style","border","cursor","AddSecret","history","secret","setSecret","user","state","onSubmit","e","preventDefault","axios","post","then","res","console","log","push","catch","err","onChange","target","value","maxLength","rows","cols","name","Postcard","text","direction","backgroundImage","img","PostcardList","secrets","deleteSecret","id","getState","updatedSecrets","filter","_id","delete","data","DeleteSecret","map","Math","floor","random","index","indexOf","getDirection","UserSecrets","userSecrets","setUserSecrets","useEffect","tempUserSecrets","Home","get","tempOrderedSecrets","reverse","CreateUser","setUserName","error","setError","userCreated","setUserCreated","response","Footer","href","LogIn","logInError","handleModal","length","signIn","App","signInModal","basename","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaultState","usersReducer","action","initialState","secretsReducers","rootReducer","combineReducers","secretsReducer","composeEnchancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8aedd02f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.62b43471.jpg\";","export const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const GET_SECRETS = \"GET_SECRETS\";\r\nexport const SET_SIGN_IN_MODAL = \"SET_SIGN_IN_MODAL\";\r\nexport const SIGN_IN_USER = \"SIGN_IN_USER\";\r\n","import axios from \"axios\";\r\nimport * as actions from \".\";\r\n\r\nexport function setCurrentUser(userName, isLoggedIn) {\r\n  return (dispatch) => {\r\n    const user = {\r\n      isLoggedIn: isLoggedIn,\r\n      userName,\r\n    };\r\n    return dispatch({ type: actions.SET_CURRENT_USER, payload: user });\r\n  };\r\n}\r\n\r\nexport function setSignInModal(status) {\r\n  return (dispatch) => {\r\n    return dispatch({ type: actions.SET_SIGN_IN_MODAL, payload: status });\r\n  };\r\n}\r\n\r\nexport function signIn(userName) {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(\"https://secrets-generator.herokuapp.com/users\")\r\n      .then((res) => {\r\n        let filteredUser = res.data.filter(\r\n          (user) => user.userName === userName\r\n        );\r\n        if (filteredUser.length === 0) {\r\n          dispatch({\r\n            type: actions.SIGN_IN_USER,\r\n            payload: {\r\n              userName: \"\",\r\n              isLoggedIn: false,\r\n              logInError: \"User doesn't exist.\",\r\n            },\r\n          });\r\n        } else {\r\n          dispatch({\r\n            type: actions.SIGN_IN_USER,\r\n            payload: { userName, isLoggedIn: true },\r\n            logInError: \"\",\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../imgs/logo/logo.jpg\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setCurrentUser } from \"../redux/actions/userActions\";\r\n\r\nfunction Navbar() {\r\n  const location = useLocation();\r\n  const [userModal, setUserModal] = useState(false);\r\n  const isLoggedIn = useSelector(({ users }) => users.isLoggedIn);\r\n  const currentUser = useSelector(({ users }) => users.currentUser);\r\n  const dispatch = useDispatch();\r\n\r\n  const logOut = () => {\r\n    dispatch(setCurrentUser(\"\", false));\r\n    setUserModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar-container\">\r\n      <Link to=\"/\">\r\n        <img className=\"logo\" src={logo} alt=\"logo\" />\r\n      </Link>\r\n      <ul>\r\n        <li\r\n          className={location.pathname === \"/addsecret\" ? \"nav-selected\" : \"\"}\r\n        >\r\n          <Link to=\"/addsecret\">Add a Secret</Link>\r\n        </li>\r\n\r\n        {isLoggedIn ? (\r\n          <li\r\n            onClick={() => {\r\n              setUserModal(!userModal);\r\n            }}\r\n            style={{ border: \"solid 1px white\", cursor: \"pointer\" }}\r\n          >\r\n            {userModal && (\r\n              <div className=\"navbar-user-modal\">\r\n                <h3 onClick={() => logOut()} className=\"navbar-log-out-btn\">\r\n                  Sign Out\r\n                </h3>\r\n              </div>\r\n            )}\r\n            {`Hello ${currentUser}`}\r\n          </li>\r\n        ) : null}\r\n        {isLoggedIn ? (\r\n          <li\r\n            className={location.pathname === \"/favorites\" ? \"nav-selected\" : \"\"}\r\n          >\r\n            <Link to=\"/usersecrets\">Your Secrets</Link>\r\n          </li>\r\n        ) : null}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setSignInModal } from \"../redux/actions/userActions\";\r\n\r\nfunction AddSecret({ history }) {\r\n  const [secret, setSecret] = useState(\"\");\r\n  const user = useSelector((state) => state.users.currentUser);\r\n  const isLoggedIn = useSelector((state) => state.users.isLoggedIn);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleModal = (status) => {\r\n    dispatch(setSignInModal(true));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setSecret(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let userName;\r\n    if (user === \"\") {\r\n      userName = \"Anonymous\";\r\n    } else {\r\n      userName = user;\r\n    }\r\n    axios\r\n      .post(\"https://secrets-generator.herokuapp.com/secrets/add\", {\r\n        secret,\r\n        userName,\r\n      })\r\n      .then((res) => {\r\n        console.log(\"Secret added\");\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"addSecret-container\">\r\n      <form onSubmit={handleSubmit} className=\"addSecret-form\">\r\n        <label> Enter your secret (max 50char)</label>\r\n        <textarea\r\n          onChange={handleChange}\r\n          maxLength={150}\r\n          rows={8}\r\n          cols={20}\r\n          className=\"addSecret-text-area\"\r\n          name={secret}\r\n        />\r\n        <button>Submit</button>\r\n        <br />\r\n        {isLoggedIn ? null : (\r\n          <p className=\"addSecret-form-info\">\r\n            If you want to keep track of your secrets\r\n            <br />\r\n            <span onClick={() => handleModal(true)}> SIGN IN </span>\r\n            or\r\n            <Link to=\"/createuser\">\r\n              <span> CREATE A USER </span>\r\n            </Link>\r\n          </p>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddSecret;\r\n","import React from \"react\";\r\n\r\nfunction Postcard({ text, direction, img }) {\r\n  const style = {\r\n    backgroundImage: img,\r\n  };\r\n\r\n  return (\r\n    <div style={style} className={`postcard-container ${direction}`}>\r\n      <h1 className=\"postcard-text\">{text}</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Postcard;\r\n","import React from \"react\";\r\nimport Postcard from \"./Postcard\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { DeleteSecret } from \"../redux/actions/secretsActions\";\r\n\r\nfunction PostcardList({ secrets, user }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const deleteSecret = (id) => {\r\n    dispatch(DeleteSecret(id));\r\n  };\r\n\r\n  return (\r\n    <ul className=\"postcard-list-container\">\r\n      {secrets.map((secret) => {\r\n        //logic to make orientation of postcards random\r\n        let direction = Math.floor(Math.random() * 2);\r\n        let index = secrets.indexOf(secret);\r\n        const getDirection = (direction) => {\r\n          if (direction === 0) {\r\n            return \"526/359\";\r\n          } else {\r\n            return \"359/526\";\r\n          }\r\n        };\r\n        //logic to select a random bg image\r\n        const img = `url(https://picsum.photos/${getDirection(\r\n          direction\r\n        )}?random=${index + 1})`;\r\n\r\n        return (\r\n          <li key={index}>\r\n            <Postcard\r\n              img={img}\r\n              direction={\r\n                direction === 0 ? \"postcard-horizontal\" : \"postcard-vertical\"\r\n              }\r\n              text={secret.secret}\r\n            />\r\n            {user && (\r\n              <div\r\n                onClick={() => {\r\n                  deleteSecret(secret._id);\r\n                }}\r\n                className=\"postcard-trashcan\"\r\n              >\r\n                Delete secret\r\n              </div>\r\n            )}\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default PostcardList;\r\n","import * as actions from \".\";\r\nimport axios from \"axios\";\r\n\r\nexport function GetSecrets() {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(\"https://secrets-generator.herokuapp.com/secrets/\")\r\n      .then((res) => {\r\n        let tempSecrets = [...res.data];\r\n        let tempOrderedSecrets = tempSecrets.reverse();\r\n\r\n        dispatch({ type: actions.GET_SECRETS, payload: tempOrderedSecrets });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n}\r\n\r\nexport function DeleteSecret(id) {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n    const updatedSecrets = state.secrets.secrets.filter(\r\n      (secret) => secret._id !== id\r\n    );\r\n    return axios\r\n      .delete(`https://secrets-generator.herokuapp.com/secrets/${id}`)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch({ type: actions.GET_SECRETS, payload: updatedSecrets });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PostcardList from \"../components/PostcardList\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nfunction UserSecrets() {\r\n  const secrets = useSelector((state) => state.secrets.secrets);\r\n  const userName = useSelector((state) => state.users.currentUser);\r\n  const [userSecrets, setUserSecrets] = useState([]);\r\n  const isLoggedIn = useSelector((state) => state.users.isLoggedIn);\r\n\r\n  useEffect(() => {\r\n    let tempUserSecrets = secrets.filter(\r\n      (secret) => secret.userName === userName\r\n    );\r\n    setUserSecrets(tempUserSecrets);\r\n  }, [secrets, userName]);\r\n\r\n  return (\r\n    <>\r\n      {!isLoggedIn && <Redirect to=\"/\" />}\r\n      <PostcardList user={true} secrets={userSecrets} />;\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserSecrets;\r\n","import React, { useEffect } from \"react\";\r\nimport PostcardList from \"../components/PostcardList\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { GetSecrets } from \"../redux/actions/secretsActions\";\r\n\r\nfunction Home() {\r\n  const dispatch = useDispatch();\r\n  const secrets = useSelector((state) => state.secrets.secrets);\r\n\r\n  useEffect(() => {\r\n    dispatch(GetSecrets());\r\n  }, [dispatch]);\r\n\r\n  return <PostcardList secrets={secrets} />;\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { setCurrentUser, setSignInModal } from \"../redux/actions/userActions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nfunction CreateUser() {\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [userCreated, setUserCreated] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setUserName(e.target.value);\r\n    setError(\"\");\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(`https://secrets-generator.herokuapp.com/add`, { userName })\r\n      .then(() => {\r\n        dispatch(setCurrentUser(userName, true));\r\n        setUserCreated(true);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.data === \"Error: 11000\") {\r\n          setError(\"User already exists\");\r\n        } else {\r\n          setError(\"User must be at least 3 characters long\");\r\n        }\r\n        console.log(err.response);\r\n      });\r\n  };\r\n\r\n  if (!userCreated) {\r\n    return (\r\n      <div className=\"addSecret-container\">\r\n        <form onSubmit={handleSubmit} className=\"addSecret-form\">\r\n          <label> Enter your username.</label>\r\n          <input\r\n            className=\"createUser-input\"\r\n            type=\"text\"\r\n            onChange={handleChange}\r\n          ></input>\r\n          {error !== \"\" && (\r\n            <>\r\n              <p className=\"createUser-error\">{error}</p>\r\n            </>\r\n          )}\r\n\r\n          <button>Create</button>\r\n          <br />\r\n          <p>\r\n            If you already have a user\r\n            <span\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => dispatch(setSignInModal(true))}\r\n            >\r\n              {\" \"}\r\n              SIGN IN\r\n            </span>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"addSecret-container\">\r\n        <div className=\"add-secret-form\">\r\n          <br /> <br />\r\n          <h4>User succesfully created.</h4>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateUser;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className=\"footer-container\">\r\n      <h6 className=\"footer-txt\">Created by Juan Nicolon</h6>\r\n      <a href=\"https://postsecret.com/\">\r\n        <h6 className=\"footer-txt\">Inspired by PostSecret blog</h6>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setSignInModal, signIn } from \"../redux/actions/userActions\";\r\n\r\nfunction LogIn() {\r\n  const [userName, setUserName] = useState(\"\");\r\n  const logInError = useSelector((state) => state.users.logInError);\r\n  const isLoggedIn = useSelector((state) => state.users.isLoggedIn);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleModal = (status) => {\r\n    dispatch(setSignInModal(status));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setUserName(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signIn(userName));\r\n  };\r\n\r\n  useEffect(() => {\r\n    isLoggedIn && dispatch(setSignInModal(false));\r\n  }, [dispatch, isLoggedIn]);\r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn && <Redirect to=\"/\"></Redirect>}\r\n      <div className=\"modal-bg\"></div>\r\n      <div className=\"login-container\">\r\n        <div onClick={() => handleModal(false)} className=\"close-modal\">\r\n          X\r\n        </div>\r\n        <h2 className=\"login-title\">Sign In</h2>\r\n        <form onSubmit={handleSubmit} className=\"login-contaienr\">\r\n          <label>If you already have a user enter it here:</label>\r\n          <input onChange={handleChange} type=\"text\"></input>\r\n          {logInError !== \"\" && (\r\n            <p className=\"createUser-error\">{logInError}</p>\r\n          )}\r\n          <button>Sign in</button>\r\n        </form>\r\n        <p>\r\n          Otherwise\r\n          <Link\r\n            onClick={() => handleModal(false)}\r\n            className=\"login-user-btn\"\r\n            to=\"/createuser\"\r\n          >\r\n            {\" \"}\r\n            create a user\r\n          </Link>\r\n          .\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n","import \"./app.scss\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nimport Navbar from \"./components/Navbar\";\nimport AddSecret from \"./pages/AddSecret\";\nimport UserSecrets from \"./pages/UserSecrets\";\nimport Home from \"./pages/Home\";\nimport CreateUser from \"./pages/CreateUser\";\nimport Footer from \"./components/Footer\";\nimport LogIn from \"./components/LogIn\";\n\nfunction App() {\n  const signInModal = useSelector((state) => state.users.signInModal);\n\n  return (\n    <div className=\"app\">\n      <Router basename=\"/\">\n        <Navbar />\n        {signInModal && <LogIn />}\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/addsecret\" component={AddSecret} />\n          <Route path=\"/usersecrets\" component={UserSecrets} />\n          <Route path=\"/createuser\" component={CreateUser} />\n        </Switch>\n        <Footer />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from \"../actions/.\";\r\n\r\nconst defaultState = {\r\n  currentUser: \"\",\r\n  isLoggedIn: false,\r\n  signInModal: false,\r\n  logInError: \"\",\r\n};\r\n\r\nfunction usersReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case actions.SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload.userName,\r\n        isLoggedIn: action.payload.isLoggedIn,\r\n      };\r\n    case actions.SET_SIGN_IN_MODAL:\r\n      return {\r\n        ...state,\r\n        signInModal: action.payload,\r\n      };\r\n    case actions.SIGN_IN_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload.userName,\r\n        isLoggedIn: action.payload.isLoggedIn,\r\n        logInError: action.payload.logInError,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default usersReducer;\r\n","import * as actions from \"../actions/index\";\r\n\r\nconst initialState = {\r\n  secrets: [],\r\n};\r\n\r\nfunction secretsReducers(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actions.GET_SECRETS:\r\n      return {\r\n        ...state,\r\n        secrets: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default secretsReducers;\r\n","import { combineReducers } from \"redux\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport secretsReducer from \"../reducers/secretsReducers\";\r\n\r\nconst rootReducer = combineReducers({\r\n  users: usersReducer,\r\n  secrets: secretsReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport rootReducer from \"./reducers/rootReducer\";\r\n\r\nconst composeEnchancers =\r\n  (typeof window !== \"undefined\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnchancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n//redux\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}